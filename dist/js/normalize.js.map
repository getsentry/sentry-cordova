{"version":3,"file":"normalize.js","sourceRoot":"","sources":["../../src/js/normalize.ts"],"names":[],"mappings":"AAAA,+DAA+D;AAC/D,MAAM,aAAa,GAAG,qCAAqC,CAAC;AAE5D;;GAEG;AACH,MAAM,UAAU,YAAY,CAAC,GAAW,EAAE,WAAmB;IAC3D,OAAO,SAAS,GAAG,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,EAAE,CAAC;AAC3E,CAAC;AAED;;;GAGG;AACH,iHAAiH;AACjH,MAAM,UAAU,aAAa,CAAC,IAAS;IACrC,IAAI,IAAI,CAAC,OAAO,EAAE;QAChB,IAAI,CAAC,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;KAC1D;IACD,MAAM,UAAU,GACd,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;IACtG,IAAI,UAAU,EAAE;QACd,8DAA8D;QAC9D,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAU,EAAE,EAAE;YACvC,IAAI,KAAK,CAAC,QAAQ,KAAK,eAAe,IAAI,KAAK,CAAC,QAAQ,KAAK,aAAa,EAAE;gBAC1E,KAAK,CAAC,QAAQ,GAAG,YAAY,CAAC,KAAK,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;aAC9D;QACH,CAAC,CAAC,CAAC;KACJ;IACD,OAAO,IAAI,CAAC;AACd,CAAC","sourcesContent":["/* eslint-disable @typescript-eslint/no-unsafe-member-access */\nconst PATH_STRIP_RE = /^.*\\/[^.]+(\\.app|CodePush|.*(?=\\/))/;\n\n/**\n *  Normalize url in stacktrace\n */\nexport function normalizeUrl(url: string, pathStripRe: RegExp): string {\n  return `app://${url.replace(/^file:\\/\\//, '').replace(pathStripRe, '')}`;\n}\n\n/**\n * Normalizes the stacktrace\n * @param data\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\nexport function normalizeData(data: any): any {\n  if (data.culprit) {\n    data.culprit = normalizeUrl(data.culprit, PATH_STRIP_RE);\n  }\n  const stacktrace =\n    data.stacktrace || (data.exception && data.exception.values && data.exception.values[0].stacktrace);\n  if (stacktrace) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    stacktrace.frames.forEach((frame: any) => {\n      if (frame.filename !== '[native code]' && frame.filename !== '<anonymous>') {\n        frame.filename = normalizeUrl(frame.filename, PATH_STRIP_RE);\n      }\n    });\n  }\n  return data;\n}\n"]}