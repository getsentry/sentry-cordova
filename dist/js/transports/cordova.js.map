{"version":3,"file":"cordova.js","sourceRoot":"","sources":["../../../src/js/transports/cordova.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,iBAAiB,EAAE,MAAM,eAAe,CAAC;AAElD,OAAO,EAAE,MAAM,EAAE,MAAM,YAAY,CAAC;AAIpC;;;GAGG;AACH,MAAM,OAAO,eAAe;IAA5B;QACE,4CAA4C;QACzB,YAAO,GAAwB,iBAAiB,CAAC,EAAE,CAAC,CAAC;IAe1E,CAAC;IAbC;;OAEG;IACI,IAAI,CAAC,QAAkB;QAC5B,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC;IAC/D,CAAC;IAED;;OAEG;IACI,KAAK,CAAC,OAAgB;QAC3B,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IACrC,CAAC;CACF;AAED;;GAEG;AACH,MAAM,UAAU,oBAAoB,KAAsB,OAAO,IAAI,eAAe,EAAE,CAAC,CAAC,CAAC","sourcesContent":["import type { BaseTransportOptions, Envelope, Transport } from '@sentry/types';\nimport type { PromiseBuffer } from '@sentry/utils';\nimport { makePromiseBuffer } from '@sentry/utils';\n\nimport { NATIVE } from '../wrapper';\n\nexport type BaseNativeTransport = BaseTransportOptions\n\n/**\n * Uses the native transport if available.\n * @see NATIVE.SUPPORTS_NATIVE_TRANSPORT for platforms with native transport\n */\nexport class NativeTransport implements Transport {\n  /** A simple buffer holding all requests. */\n  protected readonly _buffer: PromiseBuffer<void> = makePromiseBuffer(30);\n\n  /**\n   * @inheritDoc\n   */\n  public send(envelope: Envelope): PromiseLike<void> {\n    return this._buffer.add(() => NATIVE.sendEnvelope(envelope));\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public flush(timeout?: number): PromiseLike<boolean> {\n    return this._buffer.drain(timeout);\n  }\n}\n\n/**\n * Creates a Native Transport.\n */\nexport function makeCordovaTransport(): NativeTransport { return new NativeTransport(); }\n"]}