{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../src/js/utils.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,iBAAiB,CAAC;AAGzC,OAAO,EAAE,mBAAmB,EAAE,MAAM,SAAS,CAAC;AAE9C;;;;GAIG;AACH,MAAM,CAAC,MAAM,eAAe,GAAG,CAAC,IAAgC,EAA6B,EAAE;IAC7F,MAAM,UAAU,GAA8B,EAAE,CAAC;IAEjD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;QAClC,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;QAC5B,UAAU,CAAC,OAAO,CAAC,GAAG,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IAClF,CAAC,CAAC,CAAC;IAEH,OAAO,UAAU,CAAC;AACpB,CAAC,CAAC;AAEF;;;;GAIG;AACH,MAAM,CAAC,MAAM,YAAY,GAAG,CAAC,KAAoB,EAAiB,EAAE;IAClE,IAAI,KAAK,KAAK,KAAsB,EAAE;QACpC,OAAO,OAAO,CAAC;KAChB;IAED,OAAO,KAAK,CAAC;AACf,CAAC,CAAC;AAEF;;;GAGG;AACH,MAAM,CAAC,MAAM,WAAW,GAAG,GAAwB,EAAE;;IACnD,MAAM,OAAO,GAAG,MAAM,CAAC;IACvB,sEAAsE;IACtE,IAAI,QAAQ,GAAG,MAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,OAAO,0CAAE,UAAiC,CAAC;IAEnE,IAAI,CAAC,QAAQ,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;QACvE,2CAA2C;QAC3C,QAAQ,GAAG,mBAAmB,CAAC,OAAO,CAAC;KACxC;IAED,OAAO,QAAQ,CAAC;AAClB,CAAC,CAAC","sourcesContent":["import { WINDOW } from '@sentry/browser';\nimport type { SeverityLevel } from '@sentry/types';\n\nimport { CordovaPlatformType } from './types';\n\n/**\n * Serializes all values of root-level keys into strings.\n * @param data key-value map.\n * @returns An object where all root-level values are strings.\n */\nexport const serializeObject = (data: { [key: string]: unknown }): { [key: string]: string } => {\n  const serialized: { [key: string]: string } = {};\n\n  Object.keys(data).forEach(dataKey => {\n    const value = data[dataKey];\n    serialized[dataKey] = typeof value === 'string' ? value : JSON.stringify(value);\n  });\n\n  return serialized;\n};\n\n/**\n * Convert js severity level which has critical and log to more widely supported levels.\n * @param level\n * @returns More widely supported Severity level strings\n */\nexport const processLevel = (level: SeverityLevel): SeverityLevel => {\n  if (level === 'log' as SeverityLevel) {\n    return 'debug';\n  }\n\n  return level;\n};\n\n/**\n * Gets the platform\n * @returns The current platform the SDK is running on, defaults to Browser if unknown.\n */\nexport const getPlatform = (): CordovaPlatformType => {\n  const _window = WINDOW;\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  let platform = _window?.cordova?.platformId as CordovaPlatformType;\n\n  if (!platform || !Object.values(CordovaPlatformType).includes(platform)) {\n    // Unsupported platform, default to browser\n    platform = CordovaPlatformType.Browser;\n  }\n\n  return platform;\n};\n"]}